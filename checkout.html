<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto - Cloud¡</title> <!-- Título actualizado -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="flex flex-col min-h-screen antialiased">
<div id="particles-js"></div>
    <header id="encabezado" class="barra-navegacion-fija transition-all duration-300">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="index.html" class="text-2xl font-bold text-sky-400 logo-con-tema">Cloud¡</a>
                <div class="flex items-center space-x-4">
                    <a href="index.html#precios" class="bg-sky-500 hover:bg-sky-600 text-white font-semibold px-4 py-2 rounded-lg transition-colors text-sm">Ver Planes</a>
                </div>
            </div>
        </nav>
    </header>

    <main class="flex-grow py-2 md:py-6">
    <div class="container mx-auto px-6">
        <div class="bg-slate-800 p-8 md:p-12 rounded-xl shadow-xl fondo-papel-con-tema">

            <h1 id="titulo-checkout" class="text-3xl md:text-4xl font-bold text-white mb-8 text-center texto-primario-con-tema">Contacta con Nosotros por Gmail</h1>

            <form id="formulario-checkout" class="space-y-6">
                <div>
                    <label for="nombreCompleto" class="block mb-2 text-sm font-medium text-slate-300 texto-secundario-con-tema"></label>
                    <input type="text" id="nombreCompleto" class="bg-slate-700 border border-slate-600 text-slate-200 text-sm rounded-lg focus:ring-sky-500 focus:border-sky-500 block w-full p-2.5 entrada-con-tema" placeholder="Juan Pérez" required>
                </div>
                <div>
                    <label for="correoElectronico" class="block mb-2 text-sm font-medium text-slate-300 texto-secundario-con-tema">Correo Electrónico</label>
                    <input type="email" id="correoElectronico" class="bg-slate-700 border border-slate-600 text-slate-200 text-sm rounded-lg focus:ring-sky-500 focus:border-sky-500 block w-full p-2.5 entrada-con-tema" placeholder="juan.perez@ejemplo.com" required>
                </div>
                <div id="seccion-contacto">
                    <label for="mensaje" class="block mb-2 text-sm font-medium text-slate-300 texto-secundario-con-tema">Tu Mensaje</label>
                    <textarea id="mensaje" rows="4" maxlength="1000" class="block p-2.5 w-full text-sm text-slate-200 bg-slate-700 rounded-lg border border-slate-600 focus:ring-sky-500 focus:border-sky-500 entrada-con-tema" placeholder="Escribe tu consulta aquí..." required></textarea>
                    <div id="contador-caracteres-mensaje" class="text-xs text-slate-400 mt-1">0/1000 caracteres</div>
                </div>
                <div id="mensaje-confirmacion-inline" class="hidden mt-4 p-4 text-sm text-green-700 bg-green-100 rounded-lg dark:bg-slate-700 dark:text-green-400 border border-green-500" role="alert">
                    <!-- El mensaje se insertará aquí -->
                </div>
                <button type="submit" id="boton-enviar-formulario" class="w-full text-white bg-sky-500 hover:bg-sky-600 focus:ring-4 focus:outline-none focus:ring-sky-300 font-medium rounded-lg text-sm px-5 py-3 text-center transition-colors">
                    Enviar Consulta
                </button>
            </form>
        </div>
    </div>
    <div class="container mx-auto px-6 mt-8">
        <div class="bg-slate-800 p-8 md:p-12 rounded-xl shadow-xl fondo-papel-con-tema">

            <h1 class="text-3xl md:text-4xl font-bold text-white mb-8 text-center texto-primario-con-tema">Contacta con Nosotros por WhatsApp</h1>

            <div class="text-center">
                <a href="https://wa.me/5492923541222?text=Hola%2C%20quisiera%20m%C3%A1s%20informaci%C3%B3n." target="_blank" rel="noopener noreferrer" class="inline-block">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/100px-WhatsApp.svg.png" alt="Contactar por WhatsApp" style="width:60px; height:auto; vertical-align: middle;">
            </div>
        </div>
    </div>
</main>

    <footer class="bg-slate-900 border-t border-slate-700 py-8 fondo-pie-pagina-con-tema">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-center text-sm text-slate-400 texto-pie-pagina-con-tema">
                <p class="mb-4 md:mb-0">© <span id="anioActual"></span> Cloud¡. Todos los derechos reservados.</p>
                <div class="flex space-x-4 md:space-x-6">
                    <a href="aviso-legal.html" class="hover:text-sky-400 transition-colors enlace-texto-pie-pagina-con-tema">Aviso Legal</a>
                    <a href="terminos-condiciones.html" class="hover:text-sky-400 transition-colors enlace-texto-pie-pagina-con-tema">Términos y Condiciones</a>
                    <a href="politica-privacidad.html" class="hover:text-sky-400 transition-colors enlace-texto-pie-pagina-con-tema">Política de Privacidad</a>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="particle.js" defer></script>\
    <script>
        document.addEventListener('DOMContentLoaded', () => {
        const elDetallesPlan = document.getElementById('detalles-plan');
        const elTituloCheckout = document.getElementById('titulo-checkout');
        const elSeccionContacto = document.getElementById('seccion-contacto');
        const elBotonEnviarFormulario = document.getElementById('boton-enviar-formulario');
        const elFormulario = document.getElementById('formulario-checkout');
        const campoMensaje = document.getElementById('mensaje');
        const contadorCaracteresMensajeEl = document.getElementById('contador-caracteres-mensaje');
        const MAX_CARACTERES_MENSAJE = 1000;

        // *** NUEVO: Obtener referencia al div del mensaje inline ***
        const elMensajeConfirmacionInline = document.getElementById('mensaje-confirmacion-inline');

        function actualizarVisibilidadContador() {
            if (contadorCaracteresMensajeEl && elSeccionContacto) {
                if (!elSeccionContacto.classList.contains('hidden') && campoMensaje && campoMensaje.required) {
                    contadorCaracteresMensajeEl.classList.remove('hidden');
                } else {
                    contadorCaracteresMensajeEl.classList.add('hidden');
                }
            }
        }

        function resetearContadorMensaje() {
            if (contadorCaracteresMensajeEl) {
                contadorCaracteresMensajeEl.textContent = `0/${MAX_CARACTERES_MENSAJE} caracteres`;
                contadorCaracteresMensajeEl.classList.remove('text-red-500', 'text-yellow-500');
            }
            actualizarVisibilidadContador();
        }

        if (campoMensaje && contadorCaracteresMensajeEl) {
            campoMensaje.addEventListener('input', () => {
                const longitudActual = campoMensaje.value.length;
                contadorCaracteresMensajeEl.textContent = `${longitudActual}/${MAX_CARACTERES_MENSAJE} caracteres`;

                contadorCaracteresMensajeEl.classList.remove('text-red-500', 'text-yellow-500');
                if (longitudActual > MAX_CARACTERES_MENSAJE) {
                    contadorCaracteresMensajeEl.classList.add('text-red-500');
                } else if (longitudActual > MAX_CARACTERES_MENSAJE * 0.9) {
                    contadorCaracteresMensajeEl.classList.add('text-yellow-500');
                }
            });
        }

        // --- Configuración fija para la página de contacto ---
        if(elTituloCheckout) elTituloCheckout.textContent = 'Contacta con Nosotros';
        if(elDetallesPlan) elDetallesPlan.classList.add('hidden');
        if(elSeccionContacto) elSeccionContacto.classList.remove('hidden');
        if(elBotonEnviarFormulario) elBotonEnviarFormulario.textContent = 'Enviar Consulta';

        if (campoMensaje) {
            campoMensaje.required = true;
        }
        resetearContadorMensaje();


        // Lógica de validación y envío del formulario
        if(elFormulario && !elFormulario.classList.contains('hidden')) {
            elFormulario.addEventListener('submit', (e) => {
                e.preventDefault();

                // *** NUEVO: Ocultar mensaje de confirmación/error previo si estuviera visible ***
                if (elMensajeConfirmacionInline) {
                    elMensajeConfirmacionInline.classList.add('hidden');
                    elMensajeConfirmacionInline.innerHTML = ''; // Limpiar contenido previo
                }

                let formValido = true;
                elFormulario.querySelectorAll('input[required], textarea[required]').forEach(input => {
                    let isVisibleAndRequired = input.required;
                    const fieldContainer = input.closest('#seccion-contacto, div:not(#seccion-contacto)');
                    if (fieldContainer && fieldContainer.id === 'seccion-contacto' && elSeccionContacto.classList.contains('hidden')) {
                        isVisibleAndRequired = false;
                    }
                    if (isVisibleAndRequired && !input.value.trim()) {
                        formValido = false;
                        input.classList.add('border-red-500');
                    } else {
                        input.classList.remove('border-red-500');
                    }
                });

                if (!formValido) {
                    // *** NUEVO: Mostrar error de validación inline ***
                    if (elMensajeConfirmacionInline) {
                        elMensajeConfirmacionInline.innerHTML = '<span class="font-medium">Error:</span> Por favor, completa todos los campos requeridos correctamente.';
                        elMensajeConfirmacionInline.classList.remove('hidden');
                        // Cambiar clases para estilo de error
                        elMensajeConfirmacionInline.classList.remove('text-green-700', 'bg-green-100', 'dark:text-green-400', 'border-green-500');
                        elMensajeConfirmacionInline.classList.add('text-red-700', 'bg-red-100', 'dark:text-red-400', 'border-red-500', 'dark:bg-slate-700'); // Asegura dark mode si es necesario
                    } else {
                        alert('Por favor, completa todos los campos requeridos correctamente.'); // Fallback
                    }
                    return;
                }

                // *** MODIFICADO: Mostrar mensaje de éxito inline ***
                if (elMensajeConfirmacionInline) {
                    elMensajeConfirmacionInline.innerHTML = '<span class="font-medium">¡Gracias por tu consulta!</span> Nos pondremos en contacto contigo pronto.';
                    elMensajeConfirmacionInline.classList.remove('hidden');
                    // Asegurar clases de éxito
                    elMensajeConfirmacionInline.classList.remove('text-red-700', 'bg-red-100', 'dark:text-red-400', 'border-red-500');
                    elMensajeConfirmacionInline.classList.add('text-green-700', 'bg-green-100', 'dark:text-green-400', 'border-green-500', 'dark:bg-slate-700'); // Asegura dark mode si es necesario
                } else {
                    alert('¡Gracias por tu consulta! Nos pondremos en contacto contigo pronto.'); // Fallback
                }

                elFormulario.reset();
                elFormulario.querySelectorAll('.border-red-500').forEach(el => el.classList.remove('border-red-500'));
                resetearContadorMensaje();

                // *** NUEVO: Opcional - Ocultar el mensaje de confirmación después de unos segundos ***
                setTimeout(() => {
                    if (elMensajeConfirmacionInline) {
                        elMensajeConfirmacionInline.classList.add('hidden');
                        elMensajeConfirmacionInline.innerHTML = ''; // Limpiar para la próxima vez
                    }
                }, 7000); // 7000 milisegundos = 7 segundos
            });
        }
        actualizarVisibilidadContador();

        const anioActualEl = document.getElementById('anioActual');
        if (anioActualEl) {
            anioActualEl.textContent = new Date().getFullYear();
        }
    });
    </script>
</body>
</html>